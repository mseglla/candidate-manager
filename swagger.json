{
  "openapi": "3.0.0",
  "info": {
    "title": "Candidate Manager API",
    "version": "1.0.0"
  },
  "paths": {
    "/candidates": {
      "get": {
        "summary": "List candidates",
        "responses": {
          "200": {"description": "OK"}
        }
      },
      "post": {
        "summary": "Create candidate",
        "responses": {
          "201": {"description": "Created"}
        }
      }
    },
    "/candidates/{id}": {
      "get": {
        "summary": "Get candidate",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {"description": "OK"},
          "404": {"description": "Not found"}
        }
      },
      "put": {
        "summary": "Update candidate",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {"description": "Updated"},
          "404": {"description": "Not found"}
        }
      },
      "delete": {
        "summary": "Delete candidate",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {"type": "integer"}
          }
        ],
        "responses": {
          "200": {"description": "Deleted"},
          "404": {"description": "Not found"}
        }
      }
    },
    "/comments": {
      "get": {"summary": "List comments", "responses": {"200": {"description": "OK"}}},
      "post": {"summary": "Create comment", "responses": {"201": {"description": "Created"}}}
    },
    "/comments/{id}": {
      "get": {"summary": "Get comment", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}], "responses": {"200": {"description": "OK"}, "404": {"description": "Not found"}}},
      "put": {"summary": "Update comment", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}], "responses": {"200": {"description": "Updated"}, "404": {"description": "Not found"}}},
      "delete": {"summary": "Delete comment", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}], "responses": {"200": {"description": "Deleted"}, "404": {"description": "Not found"}}}
    },
    "/evaluations": {
      "get": {"summary": "List evaluations", "responses": {"200": {"description": "OK"}}},
      "post": {"summary": "Create evaluation", "responses": {"201": {"description": "Created"}}}
    },
    "/evaluations/{id}": {
      "get": {"summary": "Get evaluation", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}], "responses": {"200": {"description": "OK"}, "404": {"description": "Not found"}}},
      "put": {"summary": "Update evaluation", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}], "responses": {"200": {"description": "Updated"}, "404": {"description": "Not found"}}},
      "delete": {"summary": "Delete evaluation", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}], "responses": {"200": {"description": "Deleted"}, "404": {"description": "Not found"}}}
    },
    "/activities": {
      "get": {"summary": "List activities", "responses": {"200": {"description": "OK"}}},
      "post": {"summary": "Create activity", "responses": {"201": {"description": "Created"}}}
    },
    "/activities/{id}": {
      "get": {"summary": "Get activity", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}], "responses": {"200": {"description": "OK"}, "404": {"description": "Not found"}}},
      "put": {"summary": "Update activity", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}], "responses": {"200": {"description": "Updated"}, "404": {"description": "Not found"}}},
      "delete": {"summary": "Delete activity", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}], "responses": {"200": {"description": "Deleted"}, "404": {"description": "Not found"}}}
    },
    "/users": {
      "get": {"summary": "List users", "responses": {"200": {"description": "OK"}}},
      "post": {"summary": "Create user", "responses": {"201": {"description": "Created"}}}
    },
    "/users/{id}": {
      "get": {"summary": "Get user", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}], "responses": {"200": {"description": "OK"}, "404": {"description": "Not found"}}},
      "put": {"summary": "Update user", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}], "responses": {"200": {"description": "Updated"}, "404": {"description": "Not found"}}},
      "delete": {"summary": "Delete user", "parameters": [{"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}], "responses": {"200": {"description": "Deleted"}, "404": {"description": "Not found"}}}
    },
    "/login": {
      "post": {"summary": "Authenticate user", "responses": {"200": {"description": "Token"}, "401": {"description": "Unauthorized"}}}
    },
    "/files": {
      "get": {"summary": "List files", "responses": {"200": {"description": "OK"}}},
      "post": {
        "summary": "Upload file",
        "responses": {"201": {"description": "Created"}, "400": {"description": "Invalid input"}, "401": {"description": "Unauthorized"}},
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "candidate_id": {"type": "integer"},
                  "file": {"type": "string", "format": "binary"}
                },
                "required": ["candidate_id", "file"]
              }
            }
          }
        }
      }
    },
    "/files/{id}": {
      "get": {
        "summary": "Download file",
        "parameters": [
          {"name": "id", "in": "path", "required": true, "schema": {"type": "integer"}}
        ],
        "responses": {"200": {"description": "File"}, "401": {"description": "Unauthorized"}, "404": {"description": "Not found"}}
      }
    }
  },
  "components": {
    "schemas": {
      "Candidate": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "name": {"type": "string"},
          "email": {"type": "string"}
        }
      },
      "Comment": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "candidate_id": {"type": "integer"},
          "content": {"type": "string"}
        }
      },
      "Evaluation": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "candidate_id": {"type": "integer"},
          "score": {"type": "integer"},
          "notes": {"type": "string"}
        }
      },
      "Activity": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "candidate_id": {"type": "integer"},
          "description": {"type": "string"},
          "activity_date": {"type": "string"}
        }
      },
      "File": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "candidate_id": {"type": "integer"},
          "filename": {"type": "string"},
          "path": {"type": "string"},
          "uploaded_at": {"type": "string"}
        }
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {"type": "integer"},
          "username": {"type": "string"},
          "email": {"type": "string"}
        }
      }
    }
  }
}
